CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,         -- Auto-incrementing ID
    first_name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    email VARCHAR(150) UNIQUE NOT NULL,
    phone VARCHAR(20),
    gender VARCHAR(10) CHECK (gender IN ('Male', 'Female', 'Other')),
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,     -- store hashed password
    is_active BOOLEAN DEFAULT TRUE,     -- active/inactive user
    is_deleted BOOLEAN DEFAULT FALSE,   -- soft delete flag
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE strandegrees (
    idPk BIGSERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    code VARCHAR(50) UNIQUE NOT NULL,
    category VARCHAR(50) NOT NULL,
    details TEXT,
    isActive BOOLEAN DEFAULT TRUE,
    isDeleted BOOLEAN DEFAULT FALSE,
    createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE universities (
    id_pk BIGSERIAL PRIMARY KEY,
    university_name VARCHAR(255) NOT NULL,
    category VARCHAR(10) NOT NULL CHECK (category IN ('PRIVATE', 'PUBLIC')),
    contact VARCHAR(100),
    street VARCHAR(255),
    city VARCHAR(100),
    province VARCHAR(100),
    postal_code VARCHAR(20),
    is_active BOOLEAN NOT NULL DEFAULT TRUE,
    is_deleted BOOLEAN NOT NULL DEFAULT FALSE,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE university_strandegree_availability (
    id_pk BIGSERIAL PRIMARY KEY,
    university_id_pk BIGINT NOT NULL,
    strandegree_id_pk BIGINT NOT NULL,
    availability BOOLEAN NOT NULL DEFAULT TRUE
);
