<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <title>FuturePath | Dashboard</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
      <link rel="stylesheet" th:href="@{/css/common.css}" />
      <link rel="stylesheet" th:href="@{/css/admin-dashboard.css}" />
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
   </head>
   <body>
      <nav th:replace="~{sidebar :: sidebar}"></nav>
      <main>
         <nav th:replace="~{header :: header}"></nav>
         <hr>
         <nav class="sub-header">
            <div>
               <span class="crumb">FuturePath</span>
               <i class="fa-solid fa-chevron-right separator"></i>
               <span class="crumb active">DASHBOARD</span>
            </div>
         </nav>
         <hr>
         <div class="content">
         <!-- Welcome Card -->
         <div class="content">
            <!-- Welcome Card -->
            <div class="welcome-card">
               <h3>Welcome, Admin!</h3>
               <p>Here is the overview of your system.</p>
            </div>
            <!-- Quick Actions -->
            <div class="quick-actions">
               <a class="btn btn-primary" th:href="@{/admin/user/add}">Create User</a>
               <a class="btn btn-primary" th:href="@{/admin/universities/add}">Create University</a>
               <a class="btn btn-primary" th:href="@{/admin/strandegrees/add}">Create Degree</a>
               <a class="btn btn-primary" th:href="@{/admin/strandegrees/add}">Create Strand</a>
               <a class="btn btn-primary" th:href="@{/admin/questions/add}">Create Question</a>
            </div>
            <!-- Statistics Section -->
            <div class="statistics-section">
               <!-- General Statistics -->
               <div class="stats-group">
                  <h4>General Statistics</h4>
                  <div class="stats-cards">
                     <div class="stat-card">
                        <div class="stat-top">
                           <i class="fa-solid fa-users stat-icon"></i>
                           <span class="stat-label">Users</span>
                        </div>
                        <span class="stat-value">0</span>
                        <p>Total Users</p>
                     </div>
                     <div class="stat-card">
                        <div class="stat-top">
                           <i class="fa-solid fa-layer-group stat-icon"></i>
                           <span class="stat-label">Strands</span>
                        </div>
                        <span class="stat-value">0</span>
                        <p>Total Strands</p>
                     </div>
                     <div class="stat-card">
                        <div class="stat-top">
                           <i class="fa-solid fa-graduation-cap stat-icon"></i>
                           <span class="stat-label">Degrees</span>
                        </div>
                        <span class="stat-value">0</span>
                        <p>Total Degrees</p>
                     </div>
                     <div class="stat-card">
                        <div class="stat-top">
                           <i class="fa-solid fa-school stat-icon"></i>
                           <span class="stat-label">Universities</span>
                        </div>
                        <span class="stat-value">0</span>
                        <p>Total Universities</p>
                     </div>
                     <div class="stat-card">
                        <div class="stat-top">
                           <i class="fas fa-question-circle"></i>
                           <span class="stat-label">Questions</span>
                        </div>
                        <span class="stat-value">0</span>
                        <p>Total Questions</p>
                     </div>
                  </div>
               </div>
               <!-- Assessment Statistics -->
               <div class="stats-group">
                  <h4>Assessment Statistics</h4>
                  <div class="stats-cards">
                     <!-- Taken Assessments -->
                     <div class="stat-card">
                        <div class="stat-top">
                           <i class="fa-solid fa-clipboard-check stat-icon"></i>
                           <span class="stat-label">Taken Assessments</span>
                        </div>
                        <span class="stat-value">0</span>
                        <p>Total quizzes taken</p>
                     </div>
                     <!-- Average Score -->
                     <div class="stat-card">
                        <div class="stat-top">
                           <i class="fa-solid fa-chart-line stat-icon"></i>
                           <span class="stat-label">Average Score</span>
                        </div>
                        <span class="stat-value">0%</span>
                        <p>Overall performance</p>
                     </div>
                     <!-- Degree Assessments -->
                     <div class="stat-card">
                        <div class="stat-top">
                           <i class="fa-solid fa-graduation-cap stat-icon"></i>
                           <span class="stat-label">Degree Assessments</span>
                        </div>
                        <span class="stat-value">0</span>
                        <p>Total degree quizzes</p>
                     </div>
                     <!-- Strand Assessments -->
                     <div class="stat-card">
                        <div class="stat-top">
                           <i class="fa-solid fa-layer-group stat-icon"></i>
                           <span class="stat-label">Strand Assessments</span>
                        </div>
                        <span class="stat-value">0</span>
                        <p>Total strand quizzes</p>
                     </div>
                  </div>
               </div>
               <div class="charts-row">
                  <div class="chart-card">
                     <div class="chart-header">
                        <h4>User Scores</h4>
                        <span>Distribution of scores</span>
                     </div>
                     <div class="chart-wrapper">
                        <canvas id="userScoresChart"></canvas>
                     </div>
                     <div class="chart-footer">
                        <div class="footer-box score-25">
                           <span class="footer-title">25%</span>
                           <span class="footer-value">0</span>
                        </div>
                        <div class="footer-box score-50">
                           <span class="footer-title">50%</span>
                           <span class="footer-value">0</span>
                        </div>
                        <div class="footer-box score-75">
                           <span class="footer-title">75%</span>
                           <span class="footer-value">0</span>
                        </div>
                        <div class="footer-box score-100">
                           <span class="footer-title">100%</span>
                           <span class="footer-value">0</span>
                        </div>
                     </div>
                  </div>
                  <div class="chart-card pie-card">
                     <div class="chart-header">
                        <h4>User Score Distribution</h4>
                        <span>Percentage of users by score bracket</span>
                     </div>
                     <div class="chart-wrapper">
                        <canvas id="scorePieChart"></canvas>
                     </div>
                     <div class="pie-legend">
                        <div class="legend-item">
                           <span class="legend-color c1"></span>
                           <span>25%</span>
                        </div>
                        <div class="legend-item">
                           <span class="legend-color c2"></span>
                           <span>50%</span>
                        </div>
                        <div class="legend-item">
                           <span class="legend-color c3"></span>
                           <span>75%</span>
                        </div>
                        <div class="legend-item">
                           <span class="legend-color c4"></span>
                           <span>100%</span>
                        </div>
                     </div>
                  </div>
               </div>
               <!-- Recent Assessment Activity Table -->
               <div class="recent-assessment data-section">
                  <div class="data-controls">
                     <h4 class="stat-title">Recent Assessment Activity</h4>
                     <a class="btn btn-primary">View All</a>
                  </div>
                  <div class="data-table">
                     <table class="recent-activities-table">
                        <thead>
                           <tr>
                              <th>User</th>
                              <th>Type</th>
                              <th>Score</th>
                              <th>Date</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>Christine Pagobo</td>
                              <td>Degree</td>
                              <td>85%</td>
                              <td>09/29/2025</td>
                           </tr>
                           <tr>
                              <td>John Doe</td>
                              <td>Strand</td>
                              <td>90%</td>
                              <td>09/28/2025</td>
                           </tr>
                           <tr>
                              <td>Mary Jane</td>
                              <td>Degree</td>
                              <td>78%</td>
                              <td>09/28/2025</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
            </div>
         </div>
         </div>
      </main>
      <script>
         const ctx = document.getElementById("userScoresChart");
         
         new Chart(ctx, {
             type: "bar",
             data: {
                 labels: ["25%", "50%", "75%", "100%"], // Score labels
                 datasets: [
                     {
                         label: "Users",
                         data: [0, 0, 0, 0], // Number of users for each score
                         backgroundColor: [
                             "rgba(255, 206, 86, 0.9)",   // 25%
                             "rgba(255, 159, 64, 0.9)",   // 50%
                             "rgba(54, 162, 235, 0.9)",   // 75%
                             "rgba(75, 192, 192, 0.9)"    // 100%
                         ],
                         borderRadius: 8,
                         barThickness: 20
                     }
                 ]
             },
             options: {
                 responsive: true,
                 maintainAspectRatio: false,
                 scales: {
                     y: {
                         beginAtZero: true,
                         grid: { color: "rgba(255,255,255,0.1)" },
                         ticks: {
                             color: "#fff",
                             font: { size: 11 }
                         }
                     },
                     x: {
                         grid: { display: false },
                         ticks: {
                             color: "#fff",
                             font: { size: 12 }
                         }
                     }
                 },
                 plugins: {
                     legend: { display: false },
                     tooltip: {
                         callbacks: {
                             label: function(context) {
                                 return `${context.parsed.y} Users`;
                             }
                         }
                     }
                 }
             }
         });
      </script>
      <script>
         const ctxPie = document.getElementById("scorePieChart");
         
         new Chart(ctxPie, {
             type: "pie",
             data: {
                 labels: ["25%", "50%", "75%", "100%"],
                 datasets: [
                     {
                         data: [0, 0, 0, 0], // sample â€” replace with backend data
                         backgroundColor: [
                             "#4aa8ff",
                             "#ff6584",
                             "#ffb74d",
                             "#ffd86b"
                         ],
                         borderWidth: 0,
                     }
                 ]
             },
             options: {
                 responsive: true,
                 maintainAspectRatio: false,
                 plugins: {
                     legend: { display: false }
                 }
             }
         });
      </script>
   </body>
</html>